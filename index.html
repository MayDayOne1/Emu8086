<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Emulator Intel 8086</title>
</head>
<body>
    <main>
        <span> </span>
        <span>H</span>
        <span>L</span>
        <label for="ax">AX</label>
        <input type="text" name="ah" class="reg" value="00">
        <input type="text" name="al" class="reg" value="00">

        <label for="bx">BX</label>
        <input type="text" name="bh" class="reg" value="00">
        <input type="text" name="bl" class="reg" value="00">

        <label for="cx">CX</label>
        <input type="text" name="ch" class="reg" value="00">
        <input type="text" name="cl" class="reg" value="00">

        <label for="dx">DX</label>
        <input type="text" name="dh" class="reg" value="00">
        <input type="text" name="dl" class="reg" value="00">

        <button onclick="hexvalidate()" id="operation-btn" enabled>Validate</button>
        <div id="ops">
            Lista operacji:
            <button class="op" onclick="mov()">MOV</button>
            <button class="op" onclick="xchg()">XCHG</button>
        </div>
    </main>
    <script>
        document.querySelector("#ops").style.setProperty("display", "none");

        // HEX VALIDATION
        function hexvalidate() {
            let formdata = document.querySelectorAll(".reg");
            let regArr = Array.from(formdata);
            // console.log(regArr[0].value);

            let regExp = new RegExp(/^[0-9A-F]{1,2}$/i);
            for(let i = 0; i < regArr.length; i++) {
                if (!regExp.test(regArr[i].value)) {
                    // console.log(regArr[i].value);
                    // document.querySelector("#operation-btn").innerHTML="ok";
                    alert("Proszę wypełnić rejestry liczbami w systemie szesnastkowym - cyfry 0-9 i/lub znaki A-F");
                } else {
                    document.querySelector("#ops").style.setProperty("display", "block");
                }         
            }
        }

        // MOV
        function mov() {
            alert('ok');
        }
        
    </script>
</body>
</html>